{"pageProps":{"note":{"id":"57d0b6de-d1a2-4e2c-8548-83f54c96b0f3","title":"PostgreSQL","vault":{"name":"main","fsPath":"main","useFMTitle":false},"type":"note","desc":"","links":[],"anchors":{"postgres":{"type":"header","text":"Postgres","value":"postgres","line":8,"column":0,"depth":1},"configuration":{"type":"header","text":"Configuration","value":"configuration","line":10,"column":0,"depth":2},"connection-pooling":{"type":"header","text":"Connection Pooling","value":"connection-pooling","line":15,"column":0,"depth":2},"gotchas":{"type":"header","text":"Gotchas","value":"gotchas","line":20,"column":0,"depth":2},"security":{"type":"header","text":"Security","value":"security","line":30,"column":0,"depth":2},"text-vs-varchar":{"type":"header","text":"Text Vs Varchar","value":"text-vs-varchar","line":34,"column":0,"depth":2}},"fname":"dev.PostgreSQL","updated":1633235212634,"created":1618141186045,"parent":"8ec37b11-59ad-4ea8-82d9-3186e7e0cd29","children":[],"data":{},"contentHash":"48c597a836a01c31b31c5663c676e29b","custom":{}},"body":"<h1 id=\"postgres\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#postgres\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Postgres</h1>\n<h2 id=\"configuration\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#configuration\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Configuration</h2>\n<ul>\n<li><a href=\"https://postgresqlco.nf/\">Postgresco.nf</a> has recommendations for how to tune and configure various Postgres parameters, and documentation in a convenient readable format</li>\n<li><a href=\"https://pgtune.leopard.in.ua/\">PGTune</a> generates configs for various scenarios that can be used as a starting point</li>\n</ul>\n<h2 id=\"connection-pooling\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#connection-pooling\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Connection Pooling</h2>\n<ul>\n<li><a href=\"https://www.pgbouncer.org/\">PgBouncer</a></li>\n<li><a href=\"https://www.pgpool.net/mediawiki/index.php/Main_Page\">Pgpool</a>, apparently more versatile than PgBouncer</li>\n</ul>\n<h2 id=\"gotchas\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#gotchas\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Gotchas</h2>\n<ul>\n<li><a href=\"https://pgdash.io/blog/postgresql-six-not-so-easy-pieces.html\">PostgreSQL: Six Not-So-Easy Pieces</a></li>\n<li><a href=\"https://rbranson.medium.com/10-things-i-hate-about-postgresql-20dbab8c2791\">10 Things I Hate About PostgreSQL</a></li>\n<li><a href=\"https://blog.timescale.com/blog/how-we-made-distinct-queries-up-to-8000x-faster-on-postgresql/\">How we made DISTINCT queries up to 8000x faster on PostgreSQL </a>\n<blockquote>\n<p>PostgreSQL currently lacks the ability to efficiently pull a list of unique values from an ordered index. Even when you have an index that matches the exact order and columns for these \"last point\" queries, PostgreSQL is still forced to scan the entire index to find all unique values. As a table grows (and they grow quickly with time-series data), this operation keeps getting slower.</p>\n</blockquote>\n</li>\n<li><a href=\"https://news.ycombinator.com/item?id=28489340\">HN comment on the planner randomly switching to using a bad plan, slowing down queries significantly</a></li>\n<li><a href=\"https://about.gitlab.com/blog/2021/09/29/why-we-spent-the-last-month-eliminating-postgresql-subtransactions/\">Problems with subtransactions</a></li>\n</ul>\n<h2 id=\"security\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#security\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Security</h2>\n<ul>\n<li><a href=\"https://goteleport.com/blog/securing-postgres-postgresql/\">PostgreSQL Security Hardening</a></li>\n</ul>\n<h2 id=\"text-vs-varchar\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#text-vs-varchar\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Text Vs Varchar</h2>\n<p>The <code>text</code> data type has no limits on string length and seems like an easy choice over using <code>varchar</code>, as there are no performance advantages to using <code>varchar</code> over <code>text</code>. However, using <code>varchar</code> can help <a href=\"https://brandur.org/text\">enforce constraints on reasonable text lengths</a> and prevents storage of too much data.</p>","noteIndex":{"id":"root","title":"root","vault":{"name":"main","fsPath":"main","useFMTitle":false},"type":"note","desc":"","links":[],"anchors":{"personal-knowledge-base":{"type":"header","text":"Personal Knowledge Base","value":"personal-knowledge-base","line":9,"column":0,"depth":1}},"fname":"root","updated":1622102326440,"created":1595961348801,"parent":null,"children":["9fa47ef8-a44b-4e36-929f-4aa7835b474d","6e43ea37-b3e7-44cf-aac7-31ae947d32a2","a10a1802-11d0-4557-a374-89712109cf90","0b9beaed-19ee-4124-a880-07e520da2b17","ddf3e9b2-ea12-4129-8785-06d6b82d4fcb","RAlRaxgqbYRXTckCzXUbx","b4be93a8-69e3-4427-b4cd-53593c3ab387","5bbec2d1-4abe-4a2a-8bc5-5f3d4e229766","4a064a97-3d2d-4429-9a08-5b158dc7ef35","543e830d-feac-4048-8075-58c406bc1105","8875d2cf-85f8-41e8-b16d-c3707e40d74e","8ec37b11-59ad-4ea8-82d9-3186e7e0cd29","dOehc8Yap1zIbEqLvQvOt","b58269ed-9a0e-4213-b5b0-6d59c81d9899","b4fc6d48-17ae-4764-acdb-ec0f52707860","091b67bf-8bfa-454c-bbd3-7d84d8216229","f6fbee87-be27-471c-99bd-4af45d6a3156","fb9e4130-eaf8-425d-9039-5bc2ee876f18","4fb536a9-c146-4df3-8f30-9b2fb52a77f7","21ef758d-ca84-4be0-8eed-5e95ab3b4a7e","5fb5baa9-8b3d-4044-9c03-bbabfbdfe78a","2f6af89e-df82-4144-87fc-a2be66a0e657","POgyWcSIqi29tpqfP5uyS","ffJbHhV3gsFkkOMsc02v2"],"data":{},"contentHash":"2222728f026e86e75d06a6048c4f43ed","custom":{"stub":false,"nav_order":0,"permalink":"/"},"body":"\n# Personal Knowledge Base\n\nHi, and welcome to [Dickson Tan's](https://neurrone.com/pages/about/) personal knowledge base.\n\nThis is an experiment in note taking with the Zettelkasten method. This site is rendered with [Dendron](https://wiki.dendron.so/) which generates backlinks and an index, and provides other convenience features.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":4,"useFMTitle":false,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true,"dev":{"previewV2Enabled":false,"enablePreviewV2":true},"site":{"copyAssets":true,"siteHierarchies":["root"],"siteLastModified":true,"siteRootDir":"docs","siteUrl":"https://kb.neurrone.com","usePrettyRefs":true,"title":"Personal Knowledge Base","description":"Personal knowledge Base","author":"Dickson Tan","twitter":"neurrone","duplicateNoteBehavior":{"action":"useVault","payload":["main","health","Human Dynamics"]},"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.71.0","vaults":[{"fsPath":"human-dynamics","name":"Human Dynamics","useFMTitle":false},{"name":"govtech","fsPath":"govtech","visibility":"private","useFMTitle":false},{"name":"health","fsPath":"health","useFMTitle":false},{"name":"main","fsPath":"main","useFMTitle":false},{"name":"personal","fsPath":"personal","visibility":"private"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"disableTelemetry":true,"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableEditorDecorations":true},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true}}},"__N_SSG":true}