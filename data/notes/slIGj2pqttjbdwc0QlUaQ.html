<h1 id="sqs">SQS<a aria-hidden="true" class="anchor-heading icon-link" href="#sqs"></a></h1>
<h2 id="useful-commands">Useful Commands<a aria-hidden="true" class="anchor-heading icon-link" href="#useful-commands"></a></h2>
<ul>
<li>Inspect queue attributes: <code>aws sqs get-queue-attributes --attribute-names All --queue-url &#x3C;url></code></li>
<li>Get queue url: <code>aws sqs get-queue-url --queue-name &#x3C;queue></code></li>
</ul>
<h2 id="permissions-for-using-server-side-encryption">Permissions For Using Server-side Encryption<a aria-hidden="true" class="anchor-heading icon-link" href="#permissions-for-using-server-side-encryption"></a></h2>
<p>To enable use of a aliased KMS key:</p>
<pre class="language-json"><code class="language-json">    <span class="token punctuation">{</span>
      Effect<span class="token operator">:</span> <span class="token string">"Allow"</span><span class="token punctuation">,</span>
      Action<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"kms:Decrypt"</span><span class="token punctuation">,</span> <span class="token string">"kms:Encrypt"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      Resource<span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span>
      Condition<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// see https://docs.aws.amazon.com/kms/latest/developerguide/alias-authorization.html</span>
        <span class="token property">"ForAnyValue:StringLike"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"kms:ResourceAliases"</span><span class="token operator">:</span> <span class="token string">"alias/SQS_ENCRYPTION_KEY"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/78z64Y87ceXyHC6NGVM84">Sqs With Aws Lambda (main)</a></li>
</ul>