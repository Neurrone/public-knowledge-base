<p>Syntax: <code>mysqldump [options] > out.sql</code></p>
<h2 id="dumping-databases"><a aria-hidden="true" class="anchor-heading" href="#dumping-databases"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Dumping Databases</h2>
<ul>
<li>Back up a single database: <code>mysqldump -u root -p database_name > database_name.sql</code></li>
<li>Back up multiple databases: <code>mysqldump -u root -p --databases database_name_a database_name_b > databases_a_b.sql</code></li>
<li>Back up all databases: <code>mysqldump -u root -p --all-databases > all_databases.sql</code></li>
</ul>
<p>See <a href="https://linuxize.com/post/how-to-back-up-and-restore-mysql-databases-with-mysqldump/">this article</a> for more examples.</p>
<h2 id="dumping-databases-without-locking"><a aria-hidden="true" class="anchor-heading" href="#dumping-databases-without-locking"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Dumping Databases Without Locking</h2>
<p>By default, mysqldump locks the entire database till the dump completes. This is not practical for production use.</p>
<p>Mysqldump supports the <a href="http://download.nust.na/pub6/mysql/doc/refman/5.1/en/mysqldump.html#option_mysqldump_single-transaction">--single-transaction</a> option which allows dumping a consistent state of the database. This only works with InnoDB tables, not MyISAM or Memory tables.</p>
<p>For large tables which won't fit into memory, consider using with <a href="http://download.nust.na/pub6/mysql/doc/refman/5.1/en/mysqldump.html#option_mysqldump_quick">--quick</a></p>
<h2 id="restoring-from-backup"><a aria-hidden="true" class="anchor-heading" href="#restoring-from-backup"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Restoring From Backup</h2>
<pre class="language-sh"><code class="language-sh"># if the database already exists, delete it
# create the database first
mysql -u root -p -e "create database database_name";
mysql  database_name &#x3C; file.sql
</code></pre>
<h2 id="docker"><a aria-hidden="true" class="anchor-heading" href="#docker"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker</h2>
<p>The commands above work just fine when using the official docker containers:</p>
<pre class="language-sh"><code class="language-sh">docker exec [MYSQL_CONTAINER] /usr/bin/mysqldump \
  -u root -p database_name > database_name.sql
</code></pre>
<p>There are some tools which streamline backups of mysql databases on docker:</p>
<p></p><p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Backup For Docker Containers</span></div>
<a href="/notes/e8b0d847-0c78-4055-9802-661917054c91" class="portal-arrow">Go to text <span class="right-arrow">â†’</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><ul>
<li><a href="https://github.com/databacker/mysql-backup">mysql-backup</a>, <a href="https://hub.docker.com/r/databack/mysql-backup">mysql-backup on dockerhub</a>
y* <a href="https://github.com/fradelg/docker-mysql-cron-backup">docker-mysql-cron-backup</a></li>
</ul>
</div></div><p></p><p></p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/e8b0d847-0c78-4055-9802-661917054c91">Backup For Docker Containers (main)</a></li>
</ul>