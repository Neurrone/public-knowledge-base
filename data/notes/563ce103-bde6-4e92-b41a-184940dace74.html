<h2 id="api-gateway"><a aria-hidden="true" class="anchor-heading" href="#api-gateway"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Api-gateway</h2>
<p>As at time of writing (Apr 2021), configuring api-gateway with api keys and usage plans is bugged according to the official docs. The docs say to <a href="https://www.serverless.com/framework/docs/deprecations#api-gateway-specific-configuration">put configuration in provider.apigateway, instead of under provider directly</a>.</p>
<p>However, this does not work, and you must place them under provider (the deprecated behaviour) instead.</p>
<h2 id="errors-during-sls-deploy"><a aria-hidden="true" class="anchor-heading" href="#errors-during-sls-deploy"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Errors During sls deploy</h2>
<p>Sometimes, deploying the cloud formation stack fails with errors such as "stack not found".</p>
<p>The error messages are horrible; errors in the serverless.yml file could cause it. This is probably caused by the error causing the stack creation to fail, resulting in subsequent commands not being able to use it.</p>
<h2 id="check-lambda-permissions"><a aria-hidden="true" class="anchor-heading" href="#check-lambda-permissions"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Check Lambda Permissions</h2>
<pre class="language-sh"><code class="language-sh">aws iam get-role-policy --role-name &#x3C;function role> --policy-name &#x3C;policy name>

# to get the function role
aws lambda get-function --function-name &#x3C;function>

# to get policy name
aws iam list-role-policies --role-name &#x3C;role>
</code></pre>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/78z64Y87ceXyHC6NGVM84">Sqs With Aws Lambda</a></li>
</ol>