<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Raid</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge Base"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="neurrone"/><meta name="twitter:creator" content="neurrone"/><meta property="og:title" content="Raid"/><meta property="og:description" content="Personal knowledge Base"/><meta property="og:url" content="https://kb.neurrone.com/notes/7V9Igw98Se9B8gNH2ftXB/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/15/2022"/><meta property="article:modified_time" content="1/15/2022"/><link rel="canonical" href="https://kb.neurrone.com/notes/7V9Igw98Se9B8gNH2ftXB/"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/d9a2059e253de4f8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d9a2059e253de4f8.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-851c3983ee4bf085.js" defer=""></script><script src="/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/_next/static/chunks/main-dba071e7620a7571.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e4de7af9f759777.js" defer=""></script><script src="/_next/static/chunks/155-0a8d44b6408c244d.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-30a63e62504f2dc5.js" defer=""></script><script src="/_next/static/Zt0eqHs9JUodrsmTBEfxw/_buildManifest.js" defer=""></script><script src="/_next/static/Zt0eqHs9JUodrsmTBEfxw/_ssgManifest.js" defer=""></script><script src="/_next/static/Zt0eqHs9JUodrsmTBEfxw/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="raid"><a aria-hidden="true" class="anchor-heading" href="#raid"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>RAID</h1>
<p>Raid combines multiple disks into a larger array of storage.</p>
<p>Data can be striped - split into smaller blocks which are written to disks in the array. For example, raid 0 stripes data across 2 disks but if any of the disks fail, this causes data loss. Do not use raid 0 in practice!
Besides striping, parity can be calculated for data. Storing extra parity can allow the array to survive the loss of one or more disks.</p>
<h2 id="raid-levels"><a aria-hidden="true" class="anchor-heading" href="#raid-levels"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Raid Levels</h2>
<ul>
<li>Raid0: plain striping</li>
<li>Raid1: a mirror, where all disks contain the same data. Commonly seen in 2 disk arrays. In an array of 8 disks, all the disks will contain the same data, capacity is limited to that of a single disk.</li>
<li>Raid5: striping with 1 block of parity, survives the loss of 1 disk. Considered unsafe due to the length of time it takes to rebuild a degraded array.</li>
<li>Raid6: striping with 2 blocks of parity, survives the loss of up to 2 disks.</li>
<li>Raid10: stripe (without parity) of RAID1 arrays. So in an eight-disk RAID10 array, you have four RAID1 mirrors, and your writes are striped across them.
A RAID10 array will survive the loss of any single disk—and may survive further failures. The RAID10 array can lose any number of disks without failing, so long as each of its component mirrors has at least one functional disk remaining. But when any component mirror loses its last disk, the entire RAID10 goes down with it.</li>
</ul>
<h2 id="efficiency"><a aria-hidden="true" class="anchor-heading" href="#efficiency"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Efficiency</h2>
<p>A striped array's efficiency is the amount of useable space that can be used to store data.</p>
<p>Efficiency is (n-p)/n, where n is the number of disks and p is the number of parity blocks. So an 8 disk raid6 array has an efficiency of (8-6)/8 = 75%.</p>
<h2 id="parity"><a aria-hidden="true" class="anchor-heading" href="#parity"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Parity</h2>
<p>There is no "parity disk" in RAID5 or RAID6, because the parity block locations are rotated from stripe to stripe. Taking an eight disk RAID6 array as an example, disks 0-5 might contain data and disks 6-7 contain parity1 and parity2 on the first stripe. On the next stripe, disk 0 and disk 7 would contain the two parity blocks, and on the third stripe, disks 0 and 1.</p>
<p>When a disk fails in a striped parity array, the data on it can be reconstructed from the parity on the remaining disks. Losing more disks than the number of parity block causes the data to be unrecoverable.</p>
<p>RAID is not a backup! The parity just helps with avoiding downtime.</p>
<p>For wider arrays, performance gets worse when parity is used, this is called the RAID hole.</p>
<p>The RAID hole refers to the read-modify-write cycle striped/parity arrays must go through in order to commit any write smaller than the full stripe width. The values of parity blocks must be calculated from the data blocks of all disks of the stripe—so to write a single 4KiB block to a RAID6 array, the system must light up all of its disks—and it must do so in two consecutive, binding operations.</p>
<p>See <a href="https://arstechnica.com/information-technology/2020/04/understanding-raid-how-performance-scales-from-one-disk-to-eight/">Understanding RAID: How performance scales from one disk to eight</a></p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#raid" title="RAID">RAID</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#raid-levels" title="Raid Levels">Raid Levels</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#efficiency" title="Efficiency">Efficiency</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#parity" title="Parity">Parity</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"7V9Igw98Se9B8gNH2ftXB","title":"Raid","desc":"","updated":1642244465500,"created":1642244450883,"custom":{},"fname":"tech.raid","type":"note","vault":{"name":"main","fsPath":"main","useFMTitle":false},"contentHash":"c48834992c2743791de21cd731599543","links":[],"anchors":{"raid":{"type":"header","text":"RAID","value":"raid","line":8,"column":0,"depth":1},"raid-levels":{"type":"header","text":"Raid Levels","value":"raid-levels","line":15,"column":0,"depth":2},"efficiency":{"type":"header","text":"Efficiency","value":"efficiency","line":24,"column":0,"depth":2},"parity":{"type":"header","text":"Parity","value":"parity","line":30,"column":0,"depth":2}},"children":[],"parent":"fb9e4130-eaf8-425d-9039-5bc2ee876f18","data":{}},"body":"\u003ch1 id=\"raid\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#raid\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eRAID\u003c/h1\u003e\n\u003cp\u003eRaid combines multiple disks into a larger array of storage.\u003c/p\u003e\n\u003cp\u003eData can be striped - split into smaller blocks which are written to disks in the array. For example, raid 0 stripes data across 2 disks but if any of the disks fail, this causes data loss. Do not use raid 0 in practice!\nBesides striping, parity can be calculated for data. Storing extra parity can allow the array to survive the loss of one or more disks.\u003c/p\u003e\n\u003ch2 id=\"raid-levels\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#raid-levels\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eRaid Levels\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eRaid0: plain striping\u003c/li\u003e\n\u003cli\u003eRaid1: a mirror, where all disks contain the same data. Commonly seen in 2 disk arrays. In an array of 8 disks, all the disks will contain the same data, capacity is limited to that of a single disk.\u003c/li\u003e\n\u003cli\u003eRaid5: striping with 1 block of parity, survives the loss of 1 disk. Considered unsafe due to the length of time it takes to rebuild a degraded array.\u003c/li\u003e\n\u003cli\u003eRaid6: striping with 2 blocks of parity, survives the loss of up to 2 disks.\u003c/li\u003e\n\u003cli\u003eRaid10: stripe (without parity) of RAID1 arrays. So in an eight-disk RAID10 array, you have four RAID1 mirrors, and your writes are striped across them.\nA RAID10 array will survive the loss of any single disk—and may survive further failures. The RAID10 array can lose any number of disks without failing, so long as each of its component mirrors has at least one functional disk remaining. But when any component mirror loses its last disk, the entire RAID10 goes down with it.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"efficiency\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#efficiency\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eEfficiency\u003c/h2\u003e\n\u003cp\u003eA striped array's efficiency is the amount of useable space that can be used to store data.\u003c/p\u003e\n\u003cp\u003eEfficiency is (n-p)/n, where n is the number of disks and p is the number of parity blocks. So an 8 disk raid6 array has an efficiency of (8-6)/8 = 75%.\u003c/p\u003e\n\u003ch2 id=\"parity\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#parity\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eParity\u003c/h2\u003e\n\u003cp\u003eThere is no \"parity disk\" in RAID5 or RAID6, because the parity block locations are rotated from stripe to stripe. Taking an eight disk RAID6 array as an example, disks 0-5 might contain data and disks 6-7 contain parity1 and parity2 on the first stripe. On the next stripe, disk 0 and disk 7 would contain the two parity blocks, and on the third stripe, disks 0 and 1.\u003c/p\u003e\n\u003cp\u003eWhen a disk fails in a striped parity array, the data on it can be reconstructed from the parity on the remaining disks. Losing more disks than the number of parity block causes the data to be unrecoverable.\u003c/p\u003e\n\u003cp\u003eRAID is not a backup! The parity just helps with avoiding downtime.\u003c/p\u003e\n\u003cp\u003eFor wider arrays, performance gets worse when parity is used, this is called the RAID hole.\u003c/p\u003e\n\u003cp\u003eThe RAID hole refers to the read-modify-write cycle striped/parity arrays must go through in order to commit any write smaller than the full stripe width. The values of parity blocks must be calculated from the data blocks of all disks of the stripe—so to write a single 4KiB block to a RAID6 array, the system must light up all of its disks—and it must do so in two consecutive, binding operations.\u003c/p\u003e\n\u003cp\u003eSee \u003ca href=\"https://arstechnica.com/information-technology/2020/04/understanding-raid-how-performance-scales-from-one-disk-to-eight/\"\u003eUnderstanding RAID: How performance scales from one disk to eight\u003c/a\u003e\u003c/p\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1622102326440,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"name":"main","fsPath":"main","useFMTitle":false},"contentHash":"2222728f026e86e75d06a6048c4f43ed","links":[],"anchors":{"personal-knowledge-base":{"type":"header","text":"Personal Knowledge Base","value":"personal-knowledge-base","line":9,"column":0,"depth":1}},"children":["9fa47ef8-a44b-4e36-929f-4aa7835b474d","6e43ea37-b3e7-44cf-aac7-31ae947d32a2","a10a1802-11d0-4557-a374-89712109cf90","0b9beaed-19ee-4124-a880-07e520da2b17","ddf3e9b2-ea12-4129-8785-06d6b82d4fcb","n7hxmfXVNSsIOHgJuYkpx","b4be93a8-69e3-4427-b4cd-53593c3ab387","5bbec2d1-4abe-4a2a-8bc5-5f3d4e229766","4a064a97-3d2d-4429-9a08-5b158dc7ef35","543e830d-feac-4048-8075-58c406bc1105","8875d2cf-85f8-41e8-b16d-c3707e40d74e","8ec37b11-59ad-4ea8-82d9-3186e7e0cd29","dOehc8Yap1zIbEqLvQvOt","b58269ed-9a0e-4213-b5b0-6d59c81d9899","b4fc6d48-17ae-4764-acdb-ec0f52707860","091b67bf-8bfa-454c-bbd3-7d84d8216229","f6fbee87-be27-471c-99bd-4af45d6a3156","fb9e4130-eaf8-425d-9039-5bc2ee876f18","4fb536a9-c146-4df3-8f30-9b2fb52a77f7","EgJE9NOVQIdZM34XdBHF5","DmevBcNXikV7g11lLg1sL","21ef758d-ca84-4be0-8eed-5e95ab3b4a7e","5fb5baa9-8b3d-4044-9c03-bbabfbdfe78a","2f6af89e-df82-4144-87fc-a2be66a0e657","POgyWcSIqi29tpqfP5uyS","fQuy5NA6DJHLiJb8W7wQF"],"parent":null,"data":{},"body":"\n# Personal Knowledge Base\n\nHi, and welcome to [Dickson Tan's](https://neurrone.com/pages/about/) personal knowledge base.\n\nThis is an experiment in note taking with the Zettelkasten method. This site is rendered with [Dendron](https://wiki.dendron.so/) which generates backlinks and an index, and provides other convenience features.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":4,"useFMTitle":false,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true,"dev":{"previewV2Enabled":false,"enablePreviewV2":true},"site":{"copyAssets":true,"siteHierarchies":["root"],"siteLastModified":true,"siteRootDir":"docs","siteUrl":"https://kb.neurrone.com","usePrettyRefs":true,"title":"Personal Knowledge Base","description":"Personal knowledge Base","author":"Dickson Tan","twitter":"neurrone","duplicateNoteBehavior":{"action":"useVault","payload":["main","health","Human Dynamics"]},"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.73.1","vaults":[{"fsPath":"human-dynamics","name":"Human Dynamics","useFMTitle":false},{"name":"govtech","fsPath":"govtech","visibility":"private","useFMTitle":false},{"name":"health","fsPath":"health","useFMTitle":false},{"name":"main","fsPath":"main","useFMTitle":false},{"name":"personal","fsPath":"personal","visibility":"private"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"disableTelemetry":true,"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"maxPreviewsCached":10,"maxNoteLength":204800,"enableUserTags":true,"enableHashTags":true,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableEditorDecorations":true},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"7V9Igw98Se9B8gNH2ftXB"},"buildId":"Zt0eqHs9JUodrsmTBEfxw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>